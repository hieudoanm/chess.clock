(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,7820,e=>{"use strict";var t=e.i(5497),r=e.i(394),n={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=r.default.createContext&&r.default.createContext(n),c=["attr","size","title"];function i(){return(i=Object.assign.bind()).apply(this,arguments)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach(function(t){var n,l,c;n=e,l=t,c=r[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in n?Object.defineProperty(n,l,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[l]=c}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function o(e){return t=>r.default.createElement(u,i({attr:a({},e.attr)},t),function e(t){return t&&t.map((t,n)=>r.default.createElement(t.tag,a({key:n},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var n,{attr:l,size:s,title:o}=e,u=function(e,t){if(null==e)return{};var r,n,l=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,c),d=s||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.default.createElement("svg",i({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,u,{className:n,style:a(a({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&r.default.createElement("title",null,o),e.children)};return void 0!==l?r.default.createElement(l.Consumer,null,e=>t(e)):t(n)}function d(e){return o({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M105.1 202.6c7.7-21.8 20.2-42.3 37.8-59.8c62.5-62.5 163.8-62.5 226.3 0L386.3 160 352 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l111.5 0c0 0 0 0 0 0l.4 0c17.7 0 32-14.3 32-32l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 35.2L414.4 97.6c-87.5-87.5-229.3-87.5-316.8 0C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5zM39 289.3c-5 1.5-9.8 4.2-13.7 8.2c-4 4-6.7 8.8-8.1 14c-.3 1.2-.6 2.5-.8 3.8c-.3 1.7-.4 3.4-.4 5.1L16 432c0 17.7 14.3 32 32 32s32-14.3 32-32l0-35.1 17.6 17.5c0 0 0 0 0 0c87.5 87.4 229.3 87.4 316.7 0c24.4-24.4 42.1-53.1 52.9-83.8c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.5 62.5-163.8 62.5-226.3 0l-.1-.1L125.6 352l34.4 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L48.4 288c-1.6 0-3.2 .1-4.8 .3s-3.1 .5-4.6 1z"},child:[]}]})(e)}function m(e){return o({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M288 32c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 242.7-73.4-73.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l128 128c12.5 12.5 32.8 12.5 45.3 0l128-128c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L288 274.7 288 32zM64 352c-35.3 0-64 28.7-64 64l0 32c0 35.3 28.7 64 64 64l384 0c35.3 0 64-28.7 64-64l0-32c0-35.3-28.7-64-64-64l-101.5 0-45.3 45.3c-25 25-65.5 25-90.5 0L165.5 352 64 352zm368 56a24 24 0 1 1 0 48 24 24 0 1 1 0-48z"},child:[]}]})(e)}function b(e){return o({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"},child:[]}]})(e)}function p(e){return o({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M48 64C21.5 64 0 85.5 0 112L0 400c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48L48 64zm192 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l32 0c26.5 0 48-21.5 48-48l0-288c0-26.5-21.5-48-48-48l-32 0z"},child:[]}]})(e)}function h(e){return o({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80L0 432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"},child:[]}]})(e)}let f=e=>e<10?`0${e}`:`${e}`,g={Bullet:["1+0","1+1","2+1"],Blitz:["3+0","3+2","5+0","5+2","5+5"],Rapid:["10+0","10+5","15+0","15+10","30+0"]};e.s(["default",0,()=>{let e={running:!1,current:"",timeControl:{white:"10+0",black:"10+0"},milliseconds:{white:6e5,black:6e5},increment:{white:0,black:0},delay:0,delayType:"none",moves:0,timeout:""},[n,l]=(0,r.useState)(e),[c,i]=(0,r.useState)(null),[s,a]=(0,r.useState)(!0),o=(0,r.useRef)({white:0,black:0}),u=e=>{let[t,r]=e.split("+");return{milliseconds:6e4*Number.parseInt(t),increment:Number.parseInt(r)}},x=e=>{let t=Math.floor(e/6e4),[r,n]=(e%6e4/1e3).toFixed(1).split(".");return`${f(t)}:${f(Number.parseFloat(r))}.${n}`},y=e=>{let t="white"===e?"black":"white";n.current&&l(t=>{let r=0;return"bronstein"===t.delayType&&(r=Math.min(o.current[e],1e3*t.delay)),"fischer"===t.delayType&&(r=1e3*t.increment[e]),{...t,milliseconds:{...t.milliseconds,[e]:t.milliseconds[e]+r},moves:t.moves+ +("black"===e)}}),o.current[t]=0,l(e=>({...e,current:t,running:!0})),clearInterval(c),i(setInterval(()=>{l(e=>{if(!e.current)return e;let t=10;"bronstein"===e.delayType&&o.current[e.current]<1e3*e.delay&&(o.current[e.current]+=10,t=0);let r=e.milliseconds[e.current]-t;return r<=0?(clearInterval(c),{...e,milliseconds:{...e.milliseconds,[e.current]:0},running:!1,current:"",timeout:e.current}):{...e,milliseconds:{...e.milliseconds,[e.current]:r}}})},10))},v=()=>{l(t=>{let r=u(t.timeControl.white),n=u(t.timeControl.black);return{...e,timeControl:t.timeControl,milliseconds:{white:r.milliseconds,black:n.milliseconds},increment:{white:r.increment,black:n.increment},delay:t.delay,delayType:t.delayType}})};return(0,r.useEffect)(()=>()=>clearInterval(c),[c]),(0,t.jsxs)("div",{className:"bg-base-300 flex h-screen w-screen flex-col",children:[s&&(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40 p-4 backdrop-blur-md",children:(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),a(!1)},className:"card bg-base-100 w-full max-w-2xl shadow-2xl",children:(0,t.jsxs)("div",{className:"card-body gap-6",children:[(0,t.jsx)("h2",{className:"text-lg font-bold",children:"Time Control"}),(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(g).map(([e,r])=>(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm opacity-60",children:e}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:r.map(e=>(0,t.jsx)("button",{type:"button",className:"btn btn-sm btn-outline",onClick:()=>{let t=u(e);l(r=>({...r,timeControl:{white:e,black:e},milliseconds:{white:t.milliseconds,black:t.milliseconds},increment:{white:t.increment,black:t.increment}}))},children:e},e))})]},e))}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsx)("input",{type:"number",placeholder:"White minutes",className:"input input-bordered",onChange:e=>{let t=parseInt(e.target.value||"0");l(e=>({...e,milliseconds:{...e.milliseconds,white:6e4*t}}))}}),(0,t.jsx)("input",{type:"number",placeholder:"Black minutes",className:"input input-bordered",onChange:e=>{let t=Number.parseInt(e.target.value||"0");l(e=>({...e,milliseconds:{...e.milliseconds,black:6e4*t}}))}}),(0,t.jsx)("input",{type:"number",placeholder:"White increment",className:"input input-bordered",onChange:e=>{let t=Number.parseInt(e.target.value||"0");l(e=>({...e,increment:{...e.increment,white:t}}))}}),(0,t.jsx)("input",{type:"number",placeholder:"Black increment",className:"input input-bordered",onChange:e=>{let t=Number.parseInt(e.target.value||"0");l(e=>({...e,increment:{...e.increment,black:t}}))}})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("select",{className:"select select-bordered",value:n.delayType,onChange:e=>l(t=>({...t,delayType:e.target.value})),children:[(0,t.jsx)("option",{value:"none",children:"No Delay"}),(0,t.jsx)("option",{value:"bronstein",children:"Bronstein"}),(0,t.jsx)("option",{value:"fischer",children:"Fischer"})]}),(0,t.jsx)("input",{type:"number",placeholder:"Delay sec",className:"input input-bordered",onChange:e=>l(t=>({...t,delay:Number.parseInt(e.target.value||"0")}))})]}),(0,t.jsx)("button",{className:"btn",children:"Start"})]})})}),(0,t.jsxs)("div",{className:"flex h-full flex-col",children:[(0,t.jsxs)("div",{className:"grid flex-1 grid-cols-1 md:grid-cols-2",children:[(0,t.jsx)("button",{className:`flex items-center justify-center p-6 text-6xl font-bold md:text-9xl ${"white"===n.timeout?"bg-error text-error-content":"white"===n.current?"bg-secondary text-secondary-content":"bg-base-100"}`,onClick:()=>y("white"),children:x(n.milliseconds.white)}),(0,t.jsx)("button",{className:`flex items-center justify-center p-6 text-6xl font-bold md:text-9xl ${"black"===n.timeout?"bg-error text-error-content":"black"===n.current?"bg-secondary text-secondary-content":"bg-base-200"}`,onClick:()=>y("black"),children:x(n.milliseconds.black)})]}),(0,t.jsxs)("div",{className:"bg-base-300 grid grid-cols-4 gap-2 p-3 md:grid-cols-4",children:[(0,t.jsx)("button",{className:"btn btn-base flex items-center justify-center",onClick:()=>a(!0),children:(0,t.jsx)(b,{})}),(0,t.jsx)("button",{className:"btn btn-base flex items-center justify-center",onClick:()=>{n.timeout?v():n.running?(clearInterval(c),l(e=>({...e,running:!1}))):n.running||""===n.current||y("white"===n.current?"black":"white")},children:n.timeout?(0,t.jsx)(d,{}):n.running?(0,t.jsx)(p,{}):(0,t.jsx)(h,{})}),(0,t.jsx)("button",{className:"btn flex items-center justify-center",onClick:v,children:(0,t.jsx)(d,{})}),(0,t.jsx)("button",{className:"btn flex items-center justify-center",onClick:()=>{let e=new Blob([`[TimeControl "${n.timeControl.white}"]
[Moves "${n.moves}"]`],{type:"text/plain"}),t=URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download="clock.pgn",r.click()},children:(0,t.jsx)(m,{})})]}),(0,t.jsx)("div",{className:"pointer-events-none absolute top-2 left-1/2 -translate-x-1/2",children:(0,t.jsxs)("div",{className:"badge badge-primary badge-lg",children:["Move ",n.moves]})})]})]})}],7820)},4063,(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",()=>e.r(7820)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push(["/"])})}]);